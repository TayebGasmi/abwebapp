<div class="card">
  <div class="mb-4 flex align-items-center justify-content-start gap-2">
    <button pRipple pButton type="button" label="New" icon="pi pi-plus" ></button>
    <button pRipple pButton type="button" label="Delete" icon="pi pi-trash" class="p-button-danger"></button>
  </div>

  <p-table [value]="data"
           [paginator]="true"
           [lazy]="true"
           [totalRecords]="totalRecords"
           [rows]="pageSize"
           [showCurrentPageReport]="true"
           [tableStyle]="{ 'min-width': '50rem' }"
           currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
           (onLazyLoad)="onLazyLoad($event)"
           dataKey="id"
           [rowsPerPageOptions]="[10, 25, 50]"
  >
    <ng-template pTemplate="caption">
      <div class="table-header flex justify-content-between align-items-center">
      <h5>{{totalRecords}} Subjects</h5>
      <span class="p-input-icon-left">
        <i class="pi pi-search"></i>
        <input pInputText type="text"  placeholder="Search">
      </span>
      </div>
    </ng-template>
    <ng-template pTemplate="header">
      <tr>
        <th id="check-box" style="width: 4rem"><p-tableHeaderCheckbox/></th>
        <th id="name" pSortableColumn="name">Name
          <p-sortIcon field="name"></p-sortIcon>
          <p-columnFilter type="text" field="name" display="menu" class="ml-auto" />
        </th>
        <th id="description" pSortableColumn="description">Description
          <p-sortIcon field="description"></p-sortIcon>
          <p-columnFilter type="text" field="description" display="menu" class="ml-auto" />
        </th>
        <th id="Actions">Actions</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-subject>
      <tr>
        <td>
          <p-tableCheckbox [value]="subject" />
        </td>
        <td>{{ subject.name }}</td>
        <td>{{ subject.description }}</td>
        <td >
          <button pRipple pButton type="button" icon="pi pi-pencil" class="mr-2 p-button-rounded p-button-outlined  p-mr-2" (click)="editSubject(subject)"></button>
          <button pRipple pButton type="button" icon="pi pi-trash" class="p-button-rounded p-button-outlined p-button-danger" (click)="deleteSubject(subject)"></button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>


<app-form-side-bar [title]="formTitle" [sidebarVisible]="sidebarVisible">
  <div ngProjectAs="content">
    <app-form [fields]="subjectForm"></app-form>
  </div>
  <footer class="flex justify-content-end p-3 gap-2">
    <button pRipple pButton type="button" label="Cancel" class="p-button-outlined" icon="pi pi-times" (click)="onCancel()"></button>
    <button pRipple pButton type="button" label="Save" icon="pi pi-check" (click)="saveSubject()"></button>
  </footer>
</app-form-side-bar>
